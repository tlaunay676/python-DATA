#Moyenne espérance de vie, autres variables d'intérêt
import csv
#on met le fichier ou se trouve la variable d'intérêt dans le premier argument, le numéro de colonne (0 si c'est la première) où elle se trouve dans la deuxième
def moyenne(fichier_csv,numero_colonne):
    somme = 0.0
    nombre=0
    with open(fichier_csv, mode='r', encoding='utf-8') as fichier:
        lecteur_csv = csv.reader(fichier)
        next(lecteur_csv)  # Ignorer la première ligne (en-tête)
        for ligne in lecteur_csv:
            try:
                valeur = float(ligne[numero_colonne])  # Index 35 pour la colonne 36
                somme += valeur
                nombre= nombre+1
            except (ValueError, IndexError):
                print(f"Attention : une valeur non numérique ou une ligne incomplète a été ignorée : {ligne}")
    return somme/nombre

#Mediane variables d'intérêt
import pandas as pd

def calculer_mediane_pandas(chemin_csv, index_colonne):
    """
    Calcule la médiane d'une colonne donnée en ignorant les valeurs manquantes.
    
    Args:
        chemin_csv (str): Le chemin vers le fichier.
        index_colonne (int): L'index de la colonne (0 pour la 1ère, 1 pour la 2ème...).
    """
    try:
        # Lecture du fichier CSV
        df = pd.read_csv(chemin_csv)
        
        # Sélection de la colonne par son index (iloc)
        # .iloc[:, n] signifie : toutes les lignes, colonne n
        serie_brute = df.iloc[:, index_colonne]
        
        # Conversion en numérique, force les erreurs (comme les vides ou texte) en NaN
        serie_propre = pd.to_numeric(serie_brute, errors='coerce')
        
        # Calcul de la médiane (Pandas ignore les NaN par défaut)
        mediane = serie_propre.median()
        
        return mediane

    except Exception as e:
        return f"Erreur : {e}"

# --- Exemple d'utilisation ---
resultat = calculer_mediane_pandas('donnees.csv', 1)
print(f"La médiane est : {resultat}")

#Classement pays en quatre groupes
    
# Exemple d'utilisation
fichier = "WHO_SDG3_SELECT_COUNTRY_2025.csv"
resultat = moyenne(fichier,35)
print(f"La somme des valeurs de la colonne 36 (à partir de la ligne 2) est : {resultat}")

